---
title: "Create Enrichment Task"
description: "Create an enrichment task that constructs a lead's ChatGPT conversation using tracked context and firmographics."
---

## Endpoint

```
POST https://api.thred.dev/chat
```

## Authentication

Include your API key in the Authorization header:

```
Authorization: Bearer YOUR_API_KEY
```

## Request Body

| Field      | Type   | Required | Description                              |
| ---------- | ------ | -------- | ---------------------------------------- |
| `leadData` | object | Yes      | Lead information for chat reconstruction |

### Lead Data Fields

| Field         | Type    | Description                                                       |
| ------------- | ------- | ----------------------------------------------------------------- |
| `name`        | string  | Lead's name                                                       |
| `email`       | string  | Lead's email (used for customer identification)                   |
| `company`     | string  | Company name                                                      |
| `role`        | string  | Job title                                                         |
| `companySize` | string  | Company size                                                      |
| `industry`    | string  | Industry                                                          |
| `discovery`   | boolean | Set to `true` for discovery mode, `false` or omit for direct mode |

Additional custom fields are supported.

## Response

### Success (201 Created)

```json
{
  "chatId": "k17f5j9m8k7j5n4m3k2j1h0g9f8e7d6c",
  "sessionId": "sess_abc123xyz789",
  "status": "processing",
  "message": "Chat reconstruction started"
}
```

### Error (400/401/500)

```json
{
  "error": "Error type",
  "message": "Error description"
}
```

## Example

```bash
# Direct mode (customer knows about your business)
curl -X POST https://api.thred.dev/v1/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "leadData": {
      "name": "Sarah Johnson",
      "email": "sarah@example.com",
      "company": "TechCorp",
      "role": "VP of Engineering",
      "companySize": "200-500",
      "industry": "Software"
    }
  }'

# Discovery mode (customer is exploring options)
curl -X POST https://api.thred.dev/v1/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "leadData": {
      "name": "Sarah Johnson",
      "email": "sarah@example.com",
      "company": "TechCorp",
      "role": "VP of Engineering",
      "companySize": "200-500",
      "industry": "Software",
      "discovery": true
    }
  }'
```

```javascript
// Direct mode
const response = await fetch('https://api.thred.dev/v1/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    leadData: {
      name: "Sarah Johnson",
      email: "sarah@example.com",
      company: "TechCorp",
      role: "VP of Engineering",
      companySize: "200-500",
      industry: "Software"
    }
  })
});

// Discovery mode
const discoveryResponse = await fetch('https://api.thred.dev/v1/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    leadData: {
      name: "Sarah Johnson",
      email: "sarah@example.com",
      company: "TechCorp",
      role: "VP of Engineering",
      companySize: "200-500",
      industry: "Software",
      discovery: true
    }
  })
});

const result = await response.json();
console.log(result.chatId); // Use this to poll for completion
```